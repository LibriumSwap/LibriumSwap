{% extends 'home/layout.html' %}
{% load static %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'js/chat.js' %}">
{% endblock %}

{% block body %}
<div class="container">
	<div class="topbar-container">
		<div class="profile">
			<img src="{{ request.user.profile_image.url }}">
			<p>{{ request.user.username }}</p>
		</div>
			<div class="contact-bar">
				{% for contact_name_obj in contact_name_query %}
					{% for contact_name in contact_name_obj.contacts.all %}
					<img src="{{ request.user.profile_image.url }}">
					<p>{{ contact_name }}</p>
					{% endfor %}
				{% endfor %}
			</div>
	</div>
	<div class="container-panel">
		<div class="sidepanel">
			<!--<div class="profile">
				<img src="{{ request.user.profile_image.url }}">
				<p>{{ request.user.username }}</p>
				<div class="dropdown-status-options">
					<ul>
						<li>Online</li>
						<li>Offline</li>
					</ul>
				</div>
			</div>-->
			<div class="search">
				<input class="input-search" type="text" name="contact-name">
				<button class="search-btn" type="submit"><i class="bi bi-search"></i></button>
			</div>
			<div class="contacts">
				{% for contacts in contacts_query %}
					{% for contact in contacts.contacts.all %}
					<div class="contact">
						<a href="{% url 'room' contact %}"><div class="contact-container">
							<img src="{{ contacts.contact_image.url }}">
							<div class="wrap">
								<p class="name">{{ contact }}</p>
								{% for thread in threads %}
								<p class="message">Message preview<!--{{ thread.message_preview }}--></p>
								{% endfor %}
							</div>
						</div></a>
					</div>
					{% endfor %}
				{% endfor %}
			</div>
		</div>
		<div class="content"><style type="text/css">.content{background: url("{% static 'images/fundo.png' %}"); background-size: 50%;}</style>



{% block rightbar %}{% endblock %}

<link rel="stylesheet" type="text/css" href="{% static 'css/chat.css' %}">
<script src="https://kit.fontawesome.com/aff34599fe.js" crossorigin="anonymous"></script>
{% block js %}{% endblock %}

{% endblock %}